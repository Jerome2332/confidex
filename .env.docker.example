# Confidex Docker Environment Configuration
# Copy to .env.docker and configure for your deployment

# ============================================
# Solana Configuration
# ============================================
SOLANA_RPC_URL=https://api.devnet.solana.com
# For production, use a dedicated RPC provider:
# SOLANA_RPC_URL=https://devnet.helius-rpc.com/?api-key=YOUR_KEY

# ============================================
# Program IDs (Devnet)
# ============================================
NEXT_PUBLIC_PROGRAM_ID=63bxUBrBd1W5drU5UMYWwAfkMX7Qr17AZiTrm3aqfArB
NEXT_PUBLIC_MXE_PROGRAM_ID=4pdgnqNQLxocJNo6MrSHKqieUpQ8zx3sxbsTANJFtSNi
NEXT_PUBLIC_MXE_X25519_PUBKEY=46589a2f72e04b041864f84900632a8a017173ddc002f37d5ab3c7a69e1a1f1b
NEXT_PUBLIC_NETWORK=devnet
NEXT_PUBLIC_ARCIUM_ENABLED=true
NEXT_PUBLIC_ARCIUM_CLUSTER_OFFSET=456

# ============================================
# API Configuration (for Vercel frontend)
# ============================================
# Backend API URL - set this to your Render backend URL
NEXT_PUBLIC_API_URL=https://confidex-backend.onrender.com

# ============================================
# Crank Service Configuration
# ============================================
CRANK_ENABLED=true
CRANK_USE_REAL_MPC=true
CRANK_POLLING_INTERVAL_MS=5000
CRANK_MAX_CONCURRENT_MATCHES=5
CRANK_ERROR_THRESHOLD=10
CRANK_PAUSE_DURATION_MS=60000

# ============================================
# Security (REQUIRED for production)
# ============================================
# Generate with: openssl rand -hex 32
ADMIN_API_KEY=your-secure-api-key-here

# ============================================
# Monitoring (Optional)
# ============================================
SENTRY_DSN=
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=change-this-password
GRAFANA_ROOT_URL=http://localhost:3002

# ============================================
# Alert Webhooks (Configure at least one)
# ============================================

# Slack webhook for alerts
# Create at: https://api.slack.com/messaging/webhooks
# 1. Go to https://api.slack.com/apps
# 2. Create New App > From scratch
# 3. Add "Incoming Webhooks" feature
# 4. Activate and create webhook for #confidex-alerts channel
SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# PagerDuty for critical alerts (optional)
# Get service key from PagerDuty > Services > Your Service > Integrations
PAGERDUTY_SERVICE_KEY=

# Custom webhook for Discord/Telegram/etc (optional)
ALERT_WEBHOOK_URL=
ALERT_WEBHOOK_PASSWORD=

# ============================================
# SSL Configuration
# ============================================
# Domains for Let's Encrypt certificates
SSL_DOMAINS=app.confidex.exchange api.confidex.exchange
SSL_EMAIL=admin@confidex.exchange

# Set to 1 for testing (avoids Let's Encrypt rate limits)
SSL_STAGING=0

# ============================================
# Backup Configuration (Optional)
# ============================================
# S3-compatible bucket for database backups
# Works with AWS S3, Cloudflare R2, DigitalOcean Spaces
BACKUP_S3_BUCKET=
BACKUP_RETENTION_DAYS=7
